<!DOCTYPE HTML>
<html><head>


<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<title>Fx.CSS Tween</title>
<style type="text/css">
html {

	font-family:Arial, Helvetica, sans-serif;
	color: #333;
	font-size:1.2em;
}
body {

	font-size: 75%;
	line-height:19px;
}
.square, .circle {

	height: 100px;
	/* -moz-transform: rotate(0);
	-webkit-transform: rotate(0);
	transform: rotate(0); */
	width:100px;
	margin: 0 auto;
	cursor: pointer;
	border: 1px solid #000;
	vertical-align: middle;
	text-align: center;
	font-size: 150%;
}

.circle {

	-moz-border-radius: 50%;
	-webkit-border-radius: 50%;
	border-radius: 50%;
}
</style>
<script type="text/javascript" src="../mootools.js"></script>
<script type="text/javascript" src="../Source/Element.getPrefixed.js"></script>
<script type="text/javascript" src="../Source/Fx.CSS.js"></script>
<script type="text/javascript" src="../Source/Fx.CSS.Tween.js"></script>
<script type="text/javascript" src="../Source/Fx.Parsers.Transform.js"></script>

<script type="text/javascript">
//<![CDATA[

	window.addEvent('domready', function () {

		var value,
			events = [{transform: ['rotate(0deg) scale(1, 0) skewX(0) skewY( 3deg) translate(100px, 50px)', 'rotate(180deg) scale(1.5, 4) skewX(0) skewY( 3deg) translate(20px, 3px)']},
					{transform: 'rotate(90deg) scale(1, 1) skewX(0) skewY(0) translate(0, 0)'},
					{transform: 'rotate(-90deg)'},
					{transform: 'rotate(0)'},
					{color: '#fff', backgroundColor: '#000', borderColor: '#245884'},
					{height: 250, width: 300, transform: 'rotate(157deg)'},
					{height: 100, width: 100, transform: 'rotate(0)'},
					{height: 300, width: 250, transform: 'rotate(20deg)'},
					{color: '#000', backgroundColor: '#fff', borderColor: '#000'}
				];
				
		document.getElements('.square, .circle').each(function (el) {
			
			el.set('tween', {duration: 1000, link: 'chain'/*, onComplete: function () { console.log('tween completed?') } */ }).addEvent('click', function () {

				//console.log(this.get('tween').cancel());
				this.get('tween').cancel().//.start('transform', events[0].transform[0], events[0].transform[1]).start('transform', events[1].transform)
				start('transform', 'rotate(0)', events[2].transform).
				start('transform', events[3].transform).
				start('height', 250).
				start('height', 100).
				start('transform', events[0].transform[0], events[0].transform[1]).
				start('transform', events[0].transform[0]).
				start('transform', 'rotate(0deg) scale(1, 1) skewX(0) skewY( 0) translate(0, 0)');
			})
		})
	})
//]]></script>
</head><body>
    <div class="square">morph</div>
    <div class="circle">tween</div>
</body></html>